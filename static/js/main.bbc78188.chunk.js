(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(a){a.exports=["animals/alligator.png","animals/badger.png","animals/bear.png","animals/budgie.png","animals/bumblebee.png","animals/cat.png","animals/chicken.png","animals/cow.png","animals/crab.png","animals/cute-hamster.png","animals/deer.png","animals/dog.png","animals/dolphin.png","animals/dove.png","animals/elephant.png","animals/falcon.png","animals/fish.png","animals/flamingo.png","animals/fox.png","animals/frog.png","animals/grasshopper.png","animals/hornet.png","animals/horse.png","animals/hummingbird.png","animals/kangaroo.png","animals/kiwi-bird.png","animals/ladybird.png","animals/leopard.png","animals/lion.png","animals/llama.png","animals/monarch-butterfly.png","animals/mouse-animal.png","animals/octopus.png","animals/orca.png","animals/owl.png","animals/panda.png","animals/parrot.png","animals/peacock.png","animals/pig.png","animals/prawn.png","animals/puffin-bird.png","animals/rabbit.png","animals/rhinoceros.png","animals/seal.png","animals/sheep.png","animals/sloth.png","animals/snail.png","animals/snake.png","animals/squirrel.png","animals/starfish.png","animals/stork.png","animals/swan.png","animals/turtle.png","animals/unicorn.png","animals/whale.png","animals/wolf.png","animals/zebra.png"]},236:function(a,n,e){a.exports=e(393)},274:function(a,n,e){var t={"./animals/alligator.png":[399,7,3],"./animals/badger.png":[400,7,4],"./animals/bear.png":[401,7,5],"./animals/budgie.png":[402,7,6],"./animals/bumblebee.png":[403,7,7],"./animals/cat.png":[404,7,8],"./animals/chicken.png":[405,7,9],"./animals/cow.png":[406,7,10],"./animals/crab.png":[407,7,11],"./animals/cute-hamster.png":[408,7,12],"./animals/deer.png":[409,7,13],"./animals/dog.png":[410,7,14],"./animals/dolphin.png":[411,7,15],"./animals/dove.png":[412,7,16],"./animals/elephant.png":[413,7,17],"./animals/falcon.png":[414,7,18],"./animals/fish.png":[415,7,19],"./animals/flamingo.png":[416,7,20],"./animals/fox.png":[417,7,21],"./animals/frog.png":[418,7,22],"./animals/grasshopper.png":[419,7,23],"./animals/hornet.png":[420,7,24],"./animals/horse.png":[421,7,25],"./animals/hummingbird.png":[422,7,26],"./animals/kangaroo.png":[423,7,27],"./animals/kiwi-bird.png":[424,7,28],"./animals/ladybird.png":[425,7,29],"./animals/leopard.png":[426,7,30],"./animals/lion.png":[427,7,31],"./animals/llama.png":[428,7,32],"./animals/monarch-butterfly.png":[429,7,33],"./animals/mouse-animal.png":[430,7,34],"./animals/octopus.png":[431,7,35],"./animals/orca.png":[432,7,36],"./animals/owl.png":[433,7,37],"./animals/panda.png":[434,7,38],"./animals/parrot.png":[435,7,39],"./animals/peacock.png":[436,7,40],"./animals/pig.png":[437,7,41],"./animals/prawn.png":[438,7,42],"./animals/puffin-bird.png":[439,7,43],"./animals/rabbit.png":[440,7,44],"./animals/rhinoceros.png":[441,7,45],"./animals/seal.png":[442,7,46],"./animals/sheep.png":[443,7,47],"./animals/sloth.png":[444,7,48],"./animals/snail.png":[445,7,49],"./animals/snake.png":[446,7,50],"./animals/squirrel.png":[447,7,51],"./animals/starfish.png":[448,7,52],"./animals/stork.png":[449,7,53],"./animals/swan.png":[450,7,54],"./animals/turtle.png":[451,7,55],"./animals/unicorn.png":[452,7,56],"./animals/whale.png":[453,7,57],"./animals/wolf.png":[454,7,58],"./animals/zebra.png":[455,7,59],"./exampleFiles":[110,3],"./exampleFiles.json":[110,3],"./ui/remove-cursor.png":[456,7,60]};function r(a){var n=t[a];return n?Promise.all(n.slice(2).map(e.e)).then(function(){var a=n[0];return e.t(a,n[1])}):Promise.resolve().then(function(){var n=new Error("Cannot find module '"+a+"'");throw n.code="MODULE_NOT_FOUND",n})}r.keys=function(){return Object.keys(t)},r.id=274,a.exports=r},392:function(a,n,e){},393:function(a,n,e){"use strict";e.r(n);var t=e(0),r=e.n(t),i=e(37),s=e.n(i),l=e(68),o=e(64),c=e(211),m=e(465),p=e(27),u=e.n(p),g=e(72),f=e(212),d=e.n(f),h=e(213),b=e.n(h),E=e(126),w=e.n(E),y=e(52),v=e.n(y),x=e(162),O=e.n(x),k=e(461),M=e(110),j=e(24),A=function(a){return{type:"APPEND_IMAGES",payload:a}},P=function(){return{type:"REMOVE_ALL"}},L=[2,3,5,7,11].map(function(a){return{n:a,symbols:Math.pow(a,2)+a+1,symbolsPerCard:a+1}}),N=function(a){var n=Object(j.a)(Array(a).keys());return v()([v()([].concat(Object(j.a)(n),[a]))].concat(Object(j.a)(n.flatMap(function(e){return[v()([0].concat(Object(j.a)(n.map(function(n){return a+1+a*e+n}))))].concat(Object(j.a)(n.map(function(t){return v()([e+1].concat(Object(j.a)(n.map(function(n){return a+1+a*n+(e*n+t)%a}))))})))}))))},_=function(a){return new Promise(function(n,e){var t=new FileReader;t.onerror=e,t.onload=function(){return n(t.result)},t.readAsDataURL(a)})},D=function(a){return new Promise(function(n,e){var t=new Image;t.onerror=e,t.onload=function(){return n(t.width/t.height)},t.src=a})},S=[Object(k.a)({type:"UPLOAD_IMAGES",process:function(){var a=Object(g.a)(u.a.mark(function a(n,e,t){var r,i;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.action,a.next=3,Promise.all(r.payload.map(function(){var a=Object(g.a)(u.a.mark(function a(n){var e;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_(n);case 2:return e=a.sent,a.t0=e,a.t1=O()("image_"),a.next=7,D(e);case 7:return a.t2=a.sent,a.t3=n.name,a.abrupt("return",{base64src:a.t0,id:a.t1,ratio:a.t2,title:a.t3});case 10:case"end":return a.stop()}},a)}));return function(n){return a.apply(this,arguments)}}()));case 3:i=a.sent,e(A(i)),t();case 6:case"end":return a.stop()}},a)}));return function(n,e,t){return a.apply(this,arguments)}}()}),Object(k.a)({type:"GENERATE_PDF",process:function(a){function n(n,e,t){return a.apply(this,arguments)}return n.toString=function(){return a.toString()},n}(function(){var a=Object(g.a)(u.a.mark(function a(n,e,t){var r,i,s,l,o,c,m,p,g,f,h;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.action,i=n.getState,s=r.payload.n,l=i().images,o=N(s).map(function(a){return a.map(function(a){return l[a]})}),210,297,42,c=Math.floor(2.5),m=Math.floor(297/84),p=c*m,g=210/c,f=297/m,h=new d.a,b()(o,p).forEach(function(a,n){n>0&&h.addPage(),a.forEach(function(a,n){var e=n%2*g+g/2,t=Math.floor(n/2)*f+f/2;h.circle(e,t,42,"S");for(var r=[],i=100;i-- >0&&(a.forEach(function(a){var n=100,e=function(){var e=w()(Math.max(.4*n/100,.3),.6),t={x:w()(-1,1,!0),y:w()(-1,1,!0),width:e,height:e,image:a};return Math.pow(t.x+t.width,2)+Math.pow(t.y,2)>1||Math.pow(t.x+t.width,2)+Math.pow(t.y+t.height,2)>1||Math.pow(t.x,2)+Math.pow(t.y,2)>1||Math.pow(t.x,2)+Math.pow(t.y+t.height,2)>1?"continue":r.some(function(a){return t.x<a.x+a.width&&t.x+t.width>a.x&&t.y<a.y+a.height&&t.y+t.height>a.y})?"continue":(r.push(t),"break")};a:for(;n-- >0;){switch(e()){case"continue":continue;case"break":break a}}}),r.length!==s+1);)r.length=0;if(r.length!==s+1)throw new Error("Could not generate a possible card layout");r.forEach(function(a){var n=a.image,r=n.base64src,i=n.id;h.addImage(r,"PNG",e+42*a.x,t+42*a.y,42*a.width,42*a.height,i,"NONE",0)})})}),a.next=17,h.save("Cards.pdf",{returnPromise:!0});case 17:a.next=20;break;case 19:window.open(URL.createObjectURL(h.output("blob")));case 20:t();case 21:case"end":return a.stop()}},a)}));return function(n,e,t){return a.apply(this,arguments)}}())}),Object(k.a)({type:"LOAD_EXAMPLES",latest:!0,process:function(){var a=Object(g.a)(u.a.mark(function a(n,t,r){var i;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"REMOVE_ALL"}),a.next=3,Promise.all(v()(M).map(function(){var a=Object(g.a)(u.a.mark(function a(n){var t;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(274)("./".concat(n));case 2:return t=a.sent.default,a.t0=t,a.t1=O()("image_"),a.next=7,D(t);case 7:return a.t2=a.sent,a.t3=n,a.abrupt("return",{base64src:a.t0,id:a.t1,ratio:a.t2,title:a.t3});case 10:case"end":return a.stop()}},a)}));return function(n){return a.apply(this,arguments)}}()));case 3:i=a.sent,t(A(i)),r();case 6:case"end":return a.stop()}},a)}));return function(n,e,t){return a.apply(this,arguments)}}()})],I={images:[]},G=Object(o.createStore)(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"APPEND_IMAGES":return{images:[].concat(Object(j.a)(a.images),Object(j.a)(n.payload))};case"REMOVE_ALL":return{images:[]};case"REMOVE_IMAGE":return{images:a.images.filter(function(a){return a.id!==n.payload})};default:return a}},Object(c.composeWithDevTools)(Object(o.applyMiddleware)(Object(m.a)(S)))),R=e(462),C=e(463),F=e(466),U=e(71),z=e(467),T=e(227),V=Object(l.b)(function(a){return{images:a.images}},{removeAll:P,loadExamples:function(){return{type:"LOAD_EXAMPLES"}},uploadImages:function(a){return{type:"UPLOAD_IMAGES",payload:a?Object(j.a)(a):[]}},removeImage:function(a){return{type:"REMOVE_IMAGE",payload:a}}})(function(a){var n=a.images,e=a.loadExamples,t=a.removeAll,i=a.removeImage,s=a.uploadImages;return r.a.createElement(R.a,{className:"pusher"},r.a.createElement(C.a,{horizontal:!0},r.a.createElement(F.a.Group,{size:"huge"},r.a.createElement(F.a,{primary:!0,as:"label",htmlFor:"fileUpload"},r.a.createElement(U.a,{name:"cloud upload"}),"Upload images"),r.a.createElement(F.a.Or,{text:"or"}),r.a.createElement(F.a,{onClick:e},r.a.createElement(U.a,{name:"images outline"}),"Load examples"))),r.a.createElement("input",{type:"file",id:"fileUpload",onChange:function(a){return s(a.target.files)},multiple:!0,style:{display:"none"},accept:".png,.jpg,.jpeg"}),r.a.createElement(z.a,{basic:!0,textAlign:"center"},r.a.createElement(T.a.Group,{size:"tiny"},n.map(function(a){var n=a.id,e=a.base64src,t=a.title;return r.a.createElement(T.a,{key:n,src:e,onClick:function(){return i(n)},className:"preview",title:t,alt:t})})),n.length>0&&r.a.createElement(F.a,{onClick:t},r.a.createElement(U.a,{name:"trash"}),"Remove all images")))}),q=function(){return r.a.createElement(z.a,{inverted:!0,vertical:!0,className:"footer"},r.a.createElement(R.a,{text:!0,textAlign:"center"},"This site is not affiliated etc. Example images by"," ",r.a.createElement("a",{href:"https://icons8.com/",target:"_blank"},"icons8.com")))},J=e(469),X=function(){return r.a.createElement(z.a,{inverted:!0,textAlign:"center",vertical:!0,className:"header"},r.a.createElement(R.a,{text:!0},r.a.createElement(J.a,{as:"h1",content:"Dobble-like generator",inverted:!0,className:"title"}),r.a.createElement(J.a,{as:"h2",content:"Prepare and print cards with your own images",inverted:!0,className:"subtitle"})))},Y=e(224),B=e.n(Y),W=e(464),H=Object(l.b)(function(a){return{images:a.images,plains:L}},{generatePdf:function(a){return{type:"GENERATE_PDF",payload:{n:a}}}})(function(a){var n=a.images,e=a.plains,t=a.generatePdf,i=n.length,s=B()(e,function(a){var n=a.symbols;return i>=n}),l=e[s]||null,o=e[s+1]||null,c=i/(l||o).symbols*100,m=o?i/o.symbols*100:100;return r.a.createElement(R.a,null,r.a.createElement(z.a,{textAlign:"center",raised:!0},r.a.createElement(W.a,{percent:c,attached:"top",color:"blue",autoSuccess:!0}),r.a.createElement(W.a,{percent:m,attached:"bottom",color:"blue",autoSuccess:!0}),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{as:"h1",className:"instructions"},"You can generate ",l.symbols," cards with"," ",l.symbolsPerCard," images per card.",i>l.symbols&&r.a.createElement(J.a.Subheader,null,"You have uploaded too much images. Last"," ",i-l.symbols," images will not be used.")),r.a.createElement(F.a,{size:"massive",positive:!0,onClick:function(){return t(l.n)}},r.a.createElement(U.a,{name:"file pdf outline"}),"Generate and download PDF file")),l&&o&&r.a.createElement(C.a,{horizontal:!0,className:"padded"},"Or"),o&&r.a.createElement(J.a,{as:"h3",className:"instructions"},"Add ",o.symbols-i," more images to generate"," ",o.symbols," cards with ",o.symbolsPerCard," images per card")))}),K=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null),r.a.createElement(V,null),r.a.createElement(H,null),r.a.createElement(q,null))};e(392);s.a.render(r.a.createElement(l.a,{store:G},r.a.createElement(K,null)),document.getElementById("root"))}},[[236,1,2]]]);
//# sourceMappingURL=main.bbc78188.chunk.js.map