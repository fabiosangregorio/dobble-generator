(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(a){a.exports=["animals/alligator.png","animals/badger.png","animals/bear.png","animals/budgie.png","animals/bumblebee.png","animals/cat.png","animals/chicken.png","animals/cow.png","animals/crab.png","animals/cute-hamster.png","animals/deer.png","animals/dog.png","animals/dolphin.png","animals/dove.png","animals/elephant.png","animals/falcon.png","animals/fish.png","animals/flamingo.png","animals/fox.png","animals/frog.png","animals/grasshopper.png","animals/hornet.png","animals/horse.png","animals/hummingbird.png","animals/kangaroo.png","animals/kiwi-bird.png","animals/ladybird.png","animals/leopard.png","animals/lion.png","animals/llama.png","animals/monarch-butterfly.png","animals/mouse-animal.png","animals/octopus.png","animals/orca.png","animals/owl.png","animals/panda.png","animals/parrot.png","animals/peacock.png","animals/pig.png","animals/prawn.png","animals/puffin-bird.png","animals/rabbit.png","animals/rhinoceros.png","animals/seal.png","animals/sheep.png","animals/sloth.png","animals/snail.png","animals/snake.png","animals/squirrel.png","animals/starfish.png","animals/stork.png","animals/swan.png","animals/turtle.png","animals/unicorn.png","animals/whale.png","animals/wolf.png","animals/zebra.png"]},237:function(a,n,e){a.exports=e(394)},275:function(a,n,e){var t={"./animals/alligator.png":[400,7,3],"./animals/badger.png":[401,7,4],"./animals/bear.png":[402,7,5],"./animals/budgie.png":[403,7,6],"./animals/bumblebee.png":[404,7,7],"./animals/cat.png":[405,7,8],"./animals/chicken.png":[406,7,9],"./animals/cow.png":[407,7,10],"./animals/crab.png":[408,7,11],"./animals/cute-hamster.png":[409,7,12],"./animals/deer.png":[410,7,13],"./animals/dog.png":[411,7,14],"./animals/dolphin.png":[412,7,15],"./animals/dove.png":[413,7,16],"./animals/elephant.png":[414,7,17],"./animals/falcon.png":[415,7,18],"./animals/fish.png":[416,7,19],"./animals/flamingo.png":[417,7,20],"./animals/fox.png":[418,7,21],"./animals/frog.png":[419,7,22],"./animals/grasshopper.png":[420,7,23],"./animals/hornet.png":[421,7,24],"./animals/horse.png":[422,7,25],"./animals/hummingbird.png":[423,7,26],"./animals/kangaroo.png":[424,7,27],"./animals/kiwi-bird.png":[425,7,28],"./animals/ladybird.png":[426,7,29],"./animals/leopard.png":[427,7,30],"./animals/lion.png":[428,7,31],"./animals/llama.png":[429,7,32],"./animals/monarch-butterfly.png":[430,7,33],"./animals/mouse-animal.png":[431,7,34],"./animals/octopus.png":[432,7,35],"./animals/orca.png":[433,7,36],"./animals/owl.png":[434,7,37],"./animals/panda.png":[435,7,38],"./animals/parrot.png":[436,7,39],"./animals/peacock.png":[437,7,40],"./animals/pig.png":[438,7,41],"./animals/prawn.png":[439,7,42],"./animals/puffin-bird.png":[440,7,43],"./animals/rabbit.png":[441,7,44],"./animals/rhinoceros.png":[442,7,45],"./animals/seal.png":[443,7,46],"./animals/sheep.png":[444,7,47],"./animals/sloth.png":[445,7,48],"./animals/snail.png":[446,7,49],"./animals/snake.png":[447,7,50],"./animals/squirrel.png":[448,7,51],"./animals/starfish.png":[449,7,52],"./animals/stork.png":[450,7,53],"./animals/swan.png":[451,7,54],"./animals/turtle.png":[452,7,55],"./animals/unicorn.png":[453,7,56],"./animals/whale.png":[454,7,57],"./animals/wolf.png":[455,7,58],"./animals/zebra.png":[456,7,59],"./exampleFiles":[111,3],"./exampleFiles.json":[111,3],"./ui/remove-cursor.png":[457,7,60]};function r(a){var n=t[a];return n?Promise.all(n.slice(2).map(e.e)).then(function(){var a=n[0];return e.t(a,n[1])}):Promise.resolve().then(function(){var n=new Error("Cannot find module '"+a+"'");throw n.code="MODULE_NOT_FOUND",n})}r.keys=function(){return Object.keys(t)},r.id=275,a.exports=r},393:function(a,n,e){},394:function(a,n,e){"use strict";e.r(n);var t=e(0),r=e.n(t),i=e(37),s=e.n(i),l=e(68),o=e(64),c=e(212),m=e(466),p=e(27),u=e.n(p),g=e(72),d=e(213),f=e.n(d),h=e(214),b=e.n(h),E=e(127),w=e.n(E),y=e(52),v=e.n(y),O=e(163),x=e.n(O),k=e(462),j=e(111),A=e(24),M=function(a){return{type:"APPEND_IMAGES",payload:a}},P=function(){return{type:"REMOVE_ALL"}},_=[2,3,5,7,11].map(function(a){return{n:a,symbols:Math.pow(a,2)+a+1,symbolsPerCard:a+1}}),N=function(a){var n=Object(A.a)(Array(a).keys());return v()([v()([].concat(Object(A.a)(n),[a]))].concat(Object(A.a)(n.flatMap(function(e){return[v()([0].concat(Object(A.a)(n.map(function(n){return a+1+a*e+n}))))].concat(Object(A.a)(n.map(function(t){return v()([e+1].concat(Object(A.a)(n.map(function(n){return a+1+a*n+(e*n+t)%a}))))})))}))))},D=function(a){return new Promise(function(n,e){var t=new FileReader;t.onerror=e,t.onload=function(){return n(t.result)},t.readAsDataURL(a)})},L=function(a){return new Promise(function(n,e){var t=new Image;t.onerror=e,t.onload=function(){return n(t.width/t.height)},t.src=a})},S=[Object(k.a)({type:"UPLOAD_IMAGES",process:function(){var a=Object(g.a)(u.a.mark(function a(n,e,t){var r,i;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.action,a.next=3,Promise.all(r.payload.map(function(){var a=Object(g.a)(u.a.mark(function a(n){var e;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D(n);case 2:return e=a.sent,a.t0=e,a.t1=x()("image_"),a.next=7,L(e);case 7:return a.t2=a.sent,a.t3=n.name,a.abrupt("return",{base64src:a.t0,id:a.t1,ratio:a.t2,title:a.t3});case 10:case"end":return a.stop()}},a)}));return function(n){return a.apply(this,arguments)}}()));case 3:i=a.sent,e(M(i)),t();case 6:case"end":return a.stop()}},a)}));return function(n,e,t){return a.apply(this,arguments)}}()}),Object(k.a)({type:"GENERATE_PDF",process:function(a){function n(n,e,t){return a.apply(this,arguments)}return n.toString=function(){return a.toString()},n}(function(){var a=Object(g.a)(u.a.mark(function a(n,e,t){var r,i,s,l,o,c,m,p,g,d,h;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.action,i=n.getState,s=r.payload.n,l=i().images,o=N(s).map(function(a){return a.map(function(a){return l[a]})}),210,297,42,c=Math.floor(2.5),m=Math.floor(297/84),p=c*m,g=210/c,d=297/m,h=new f.a,b()(o,p).forEach(function(a,n){n>0&&h.addPage(),a.forEach(function(a,n){var e=n%2*g+g/2,t=Math.floor(n/2)*d+d/2;h.circle(e,t,42,"S");for(var r=[],i=100;i-- >0&&(a.forEach(function(a){var n=100,e=function(){var e=w()(Math.max(.4*n/100,.3),.6),t={x:w()(-1,1,!0),y:w()(-1,1,!0),width:e,height:e,image:a};return Math.pow(t.x+t.width,2)+Math.pow(t.y,2)>1||Math.pow(t.x+t.width,2)+Math.pow(t.y+t.height,2)>1||Math.pow(t.x,2)+Math.pow(t.y,2)>1||Math.pow(t.x,2)+Math.pow(t.y+t.height,2)>1?"continue":r.some(function(a){return t.x<a.x+a.width&&t.x+t.width>a.x&&t.y<a.y+a.height&&t.y+t.height>a.y})?"continue":(r.push(t),"break")};a:for(;n-- >0;){switch(e()){case"continue":continue;case"break":break a}}}),r.length!==s+1);)r.length=0;if(r.length!==s+1)throw new Error("Could not generate a possible card layout");r.forEach(function(a){var n=a.image,r=n.base64src,i=n.id;h.addImage(r,"PNG",e+42*a.x,t+42*a.y,42*a.width,42*a.height,i,"NONE",0)})})}),a.next=17,h.save("Cards.pdf",{returnPromise:!0});case 17:a.next=20;break;case 19:window.open(URL.createObjectURL(h.output("blob")));case 20:e({type:"GENERATE_PDF_COMPLETE"}),t();case 22:case"end":return a.stop()}},a)}));return function(n,e,t){return a.apply(this,arguments)}}())}),Object(k.a)({type:"LOAD_EXAMPLES",latest:!0,process:function(){var a=Object(g.a)(u.a.mark(function a(n,t,r){var i;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"REMOVE_ALL"}),a.next=3,Promise.all(v()(j).map(function(){var a=Object(g.a)(u.a.mark(function a(n){var t;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(275)("./".concat(n));case 2:return t=a.sent.default,a.t0=t,a.t1=x()("image_"),a.next=7,L(t);case 7:return a.t2=a.sent,a.t3=n,a.abrupt("return",{base64src:a.t0,id:a.t1,ratio:a.t2,title:a.t3});case 10:case"end":return a.stop()}},a)}));return function(n){return a.apply(this,arguments)}}()));case 3:i=a.sent,t(M(i)),r();case 6:case"end":return a.stop()}},a)}));return function(n,e,t){return a.apply(this,arguments)}}()})],G=e(73),R={images:[],processing:!1},I=Object(o.createStore)(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"APPEND_IMAGES":return Object(G.a)({},a,{images:[].concat(Object(A.a)(a.images),Object(A.a)(n.payload))});case"GENERATE_PDF":return Object(G.a)({},a,{processing:!0});case"GENERATE_PDF_COMPLETE":return Object(G.a)({},a,{processing:!1});case"REMOVE_ALL":return Object(G.a)({},a,{images:[]});case"REMOVE_IMAGE":return Object(G.a)({},a,{images:a.images.filter(function(a){return a.id!==n.payload})});default:return a}},Object(c.composeWithDevTools)(Object(o.applyMiddleware)(Object(m.a)(S)))),C=e(463),F=e(464),U=e(467),T=e(71),z=e(468),V=e(228),q=Object(l.b)(function(a){return{images:a.images}},{removeAll:P,loadExamples:function(){return{type:"LOAD_EXAMPLES"}},uploadImages:function(a){return{type:"UPLOAD_IMAGES",payload:a?Object(A.a)(a):[]}},removeImage:function(a){return{type:"REMOVE_IMAGE",payload:a}}})(function(a){var n=a.images,e=a.loadExamples,t=a.removeAll,i=a.removeImage,s=a.uploadImages;return r.a.createElement(C.a,{className:"pusher"},r.a.createElement(F.a,{horizontal:!0},r.a.createElement(U.a.Group,{size:"huge"},r.a.createElement(U.a,{primary:!0,as:"label",htmlFor:"fileUpload"},r.a.createElement(T.a,{name:"cloud upload"}),"Upload images"),r.a.createElement(U.a.Or,{text:"or"}),r.a.createElement(U.a,{onClick:e},r.a.createElement(T.a,{name:"images outline"}),"Load examples"))),r.a.createElement("input",{type:"file",id:"fileUpload",onChange:function(a){return s(a.target.files)},multiple:!0,style:{display:"none"},accept:".png,.jpg,.jpeg"}),r.a.createElement(z.a,{basic:!0,textAlign:"center"},r.a.createElement(V.a.Group,{size:"tiny"},n.map(function(a){var n=a.id,e=a.base64src,t=a.title;return r.a.createElement(V.a,{key:n,src:e,onClick:function(){return i(n)},className:"preview",title:t,alt:t})})),n.length>0&&r.a.createElement(U.a,{onClick:t},r.a.createElement(T.a,{name:"trash"}),"Remove all images")))}),J=function(){return r.a.createElement(z.a,{inverted:!0,vertical:!0,className:"footer"},r.a.createElement(C.a,{text:!0,textAlign:"center"},"This site is not affiliated in any way with Dobble, Spot It!, its creators or distributors.",r.a.createElement("br",null),"Dobble and Spot It! are trademarks of ASMODEE GROUP.",r.a.createElement("br",null),"Example images by"," ",r.a.createElement("a",{href:"https://icons8.com/",target:"_blank"},"icons8.com")))},X=e(470),Y=function(){return r.a.createElement(z.a,{inverted:!0,textAlign:"center",vertical:!0,className:"header"},r.a.createElement(C.a,{text:!0},r.a.createElement(X.a,{as:"h1",content:"Dobble-like generator",inverted:!0,className:"title"}),r.a.createElement(X.a,{as:"h2",content:"Prepare and print cards with your own images",inverted:!0,className:"subtitle"})))},B=e(225),W=e.n(B),H=e(465),K=Object(l.b)(function(a){return{images:a.images,plains:_,processing:a.processing}},{generatePdf:function(a){return{type:"GENERATE_PDF",payload:{n:a}}}})(function(a){var n=a.images,e=a.plains,t=a.processing,i=a.generatePdf,s=n.length,l=W()(e,function(a){var n=a.symbols;return s>=n}),o=e[l]||null,c=e[l+1]||null,m=s/(o||c).symbols*100,p=c?s/c.symbols*100:100;return r.a.createElement(C.a,null,r.a.createElement(z.a,{textAlign:"center",raised:!0},r.a.createElement(H.a,{percent:m,attached:"top",color:"blue",autoSuccess:!0}),r.a.createElement(H.a,{percent:p,attached:"bottom",color:"blue",autoSuccess:!0}),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{as:"h1",className:"instructions"},"You can generate ",o.symbols," cards with"," ",o.symbolsPerCard," images per card.",s>o.symbols&&r.a.createElement(X.a.Subheader,null,"You have uploaded too much images. Last"," ",s-o.symbols," images will not be used.")),r.a.createElement(U.a,{size:"massive",positive:!0,disabled:t,onClick:function(){return i(o.n)}},r.a.createElement(T.a,{loading:t,name:"file pdf outline"}),"Generate and download PDF file")),o&&c&&r.a.createElement(F.a,{horizontal:!0,className:"padded"},"Or"),c&&r.a.createElement(X.a,{as:"h3",className:"instructions"},"Add ",c.symbols-s," more images to generate"," ",c.symbols," cards with ",c.symbolsPerCard," images per card")))}),Q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null),r.a.createElement(q,null),r.a.createElement(K,null),r.a.createElement(J,null))};e(393);s.a.render(r.a.createElement(l.a,{store:I},r.a.createElement(Q,null)),document.getElementById("root"))}},[[237,1,2]]]);
//# sourceMappingURL=main.cc4c1c76.chunk.js.map