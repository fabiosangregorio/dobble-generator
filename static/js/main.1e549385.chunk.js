(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(a){a.exports=["animals/alligator.png","animals/badger.png","animals/bear.png","animals/budgie.png","animals/bumblebee.png","animals/cat.png","animals/chicken.png","animals/cow.png","animals/crab.png","animals/cute-hamster.png","animals/deer.png","animals/dog.png","animals/dolphin.png","animals/dove.png","animals/elephant.png","animals/falcon.png","animals/fish.png","animals/flamingo.png","animals/fox.png","animals/frog.png","animals/grasshopper.png","animals/hornet.png","animals/horse.png","animals/hummingbird.png","animals/kangaroo.png","animals/kiwi-bird.png","animals/ladybird.png","animals/leopard.png","animals/lion.png","animals/llama.png","animals/monarch-butterfly.png","animals/mouse-animal.png","animals/octopus.png","animals/orca.png","animals/owl.png","animals/panda.png","animals/parrot.png","animals/peacock.png","animals/pig.png","animals/prawn.png","animals/puffin-bird.png","animals/rabbit.png","animals/rhinoceros.png","animals/seal.png","animals/sheep.png","animals/sloth.png","animals/snail.png","animals/snake.png","animals/squirrel.png","animals/starfish.png","animals/stork.png","animals/swan.png","animals/turtle.png","animals/unicorn.png","animals/whale.png","animals/wolf.png","animals/zebra.png"]},237:function(a,n,e){a.exports=e(394)},275:function(a,n,e){var t={"./animals/alligator.png":[400,7,3],"./animals/badger.png":[401,7,4],"./animals/bear.png":[402,7,5],"./animals/budgie.png":[403,7,6],"./animals/bumblebee.png":[404,7,7],"./animals/cat.png":[405,7,8],"./animals/chicken.png":[406,7,9],"./animals/cow.png":[407,7,10],"./animals/crab.png":[408,7,11],"./animals/cute-hamster.png":[409,7,12],"./animals/deer.png":[410,7,13],"./animals/dog.png":[411,7,14],"./animals/dolphin.png":[412,7,15],"./animals/dove.png":[413,7,16],"./animals/elephant.png":[414,7,17],"./animals/falcon.png":[415,7,18],"./animals/fish.png":[416,7,19],"./animals/flamingo.png":[417,7,20],"./animals/fox.png":[418,7,21],"./animals/frog.png":[419,7,22],"./animals/grasshopper.png":[420,7,23],"./animals/hornet.png":[421,7,24],"./animals/horse.png":[422,7,25],"./animals/hummingbird.png":[423,7,26],"./animals/kangaroo.png":[424,7,27],"./animals/kiwi-bird.png":[425,7,28],"./animals/ladybird.png":[426,7,29],"./animals/leopard.png":[427,7,30],"./animals/lion.png":[428,7,31],"./animals/llama.png":[429,7,32],"./animals/monarch-butterfly.png":[430,7,33],"./animals/mouse-animal.png":[431,7,34],"./animals/octopus.png":[432,7,35],"./animals/orca.png":[433,7,36],"./animals/owl.png":[434,7,37],"./animals/panda.png":[435,7,38],"./animals/parrot.png":[436,7,39],"./animals/peacock.png":[437,7,40],"./animals/pig.png":[438,7,41],"./animals/prawn.png":[439,7,42],"./animals/puffin-bird.png":[440,7,43],"./animals/rabbit.png":[441,7,44],"./animals/rhinoceros.png":[442,7,45],"./animals/seal.png":[443,7,46],"./animals/sheep.png":[444,7,47],"./animals/sloth.png":[445,7,48],"./animals/snail.png":[446,7,49],"./animals/snake.png":[447,7,50],"./animals/squirrel.png":[448,7,51],"./animals/starfish.png":[449,7,52],"./animals/stork.png":[450,7,53],"./animals/swan.png":[451,7,54],"./animals/turtle.png":[452,7,55],"./animals/unicorn.png":[453,7,56],"./animals/whale.png":[454,7,57],"./animals/wolf.png":[455,7,58],"./animals/zebra.png":[456,7,59],"./exampleFiles":[111,3],"./exampleFiles.json":[111,3],"./ui/remove-cursor.png":[457,7,60]};function r(a){var n=t[a];return n?Promise.all(n.slice(2).map(e.e)).then(function(){var a=n[0];return e.t(a,n[1])}):Promise.resolve().then(function(){var n=new Error("Cannot find module '"+a+"'");throw n.code="MODULE_NOT_FOUND",n})}r.keys=function(){return Object.keys(t)},r.id=275,a.exports=r},393:function(a,n,e){},394:function(a,n,e){"use strict";e.r(n);var t=e(0),r=e.n(t),i=e(37),s=e.n(i),l=e(69),o=e(65),c=e(212),m=e(466),p=e(22),u=e.n(p),g=e(41),f=e(53),d=e.n(f),h=e(163),b=e.n(h),E=e(462),w=e(111),y=e(25),v=function(a){return{type:"APPEND_IMAGES",payload:a}},O=function(){return{type:"REMOVE_ALL"}},x=e(213),k=e.n(x),j=e(214),P=e.n(j),A=e(127),M=e.n(A),_=[2,3,5,7,11].map(function(a){return{n:a,symbols:Math.pow(a,2)+a+1,symbolsPerCard:a+1}}),N=function(a){var n=Object(y.a)(Array(a).keys());return d()([d()([].concat(Object(y.a)(n),[a]))].concat(Object(y.a)(n.flatMap(function(e){return[d()([0].concat(Object(y.a)(n.map(function(n){return a+1+a*e+n}))))].concat(Object(y.a)(n.map(function(t){return d()([e+1].concat(Object(y.a)(n.map(function(n){return a+1+a*n+(e*n+t)%a}))))})))}))))},D=function(a){return new Promise(function(n,e){var t=new FileReader;t.onerror=e,t.onload=function(){return n(t.result)},t.readAsDataURL(a)})},L=function(a){return new Promise(function(n,e){var t=new Image;t.onerror=e,t.onload=function(){return n(t.height/t.width)},t.src=a})},S=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(n){return setTimeout(n,a)})},G=function(){var a=Object(g.a)(u.a.mark(function a(){var n,e,t,r,i,s,l,o,c,m,p=arguments;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=p.length>0&&void 0!==p[0]?p[0]:[],e=p.length>1?p[1]:void 0,t=e.n,r=N(t).map(function(a){return a.map(function(a){return n[a]})}),210,297,42,i=Math.floor(2.5),s=Math.floor(297/84),l=i*s,o=210/i,c=297/s,.05,m=new k.a,P()(r,l).forEach(function(a,n){n>0&&m.addPage(),a.forEach(function(a,n){var e=n%2*o+o/2,r=Math.floor(n/2)*c+c/2;m.circle(e,r,42,"S");for(var i=[],s=500;s-- >0&&(a.forEach(function(a){var n=100,e=function(){var e=M()(Math.max(.4*n/100,.25),t<7?1:.6),r={x:M()(-1,1,!0),y:M()(-1,1,!0),width:e,height:e*a.ratio,image:a};return Math.pow(r.x+r.width,2)+Math.pow(r.y,2)>1||Math.pow(r.x+r.width,2)+Math.pow(r.y+r.height,2)>1||Math.pow(r.x,2)+Math.pow(r.y,2)>1||Math.pow(r.x,2)+Math.pow(r.y+r.height,2)>1?"continue":i.some(function(a){return r.x-.05<a.x+a.width&&r.x+r.width+.05>a.x&&r.y-.05<a.y+a.height&&r.y+r.height+.05>a.y})?"continue":(i.push(r),"break")};a:for(;n-- >0;){switch(e()){case"continue":continue;case"break":break a}}}),i.length!==t+1);)i.length=0;if(i.length!==t+1)throw new Error("Could not generate a possible card layout");i.forEach(function(a){var n=a.image,t=n.base64src,i=n.id;m.addImage(t,"PNG",e+42*a.x,r+42*a.y,42*a.width,42*a.height,i,"NONE",0)})})}),a.abrupt("return",m);case 16:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}(),R=[Object(E.a)({type:"UPLOAD_IMAGES",process:function(){var a=Object(g.a)(u.a.mark(function a(n,e,t){var r,i;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.action,a.next=3,Promise.all(r.payload.map(function(){var a=Object(g.a)(u.a.mark(function a(n){var e;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D(n);case 2:return e=a.sent,a.t0=e,a.t1=b()("image_"),a.next=7,L(e);case 7:return a.t2=a.sent,a.t3=n.name,a.abrupt("return",{base64src:a.t0,id:a.t1,ratio:a.t2,title:a.t3});case 10:case"end":return a.stop()}},a)}));return function(n){return a.apply(this,arguments)}}()));case 3:i=a.sent,e(v(i)),t();case 6:case"end":return a.stop()}},a)}));return function(n,e,t){return a.apply(this,arguments)}}()}),Object(E.a)({type:"GENERATE_PDF",latest:!0,validate:function(a,n,e){var t=a.action;(0,a.getState)().processing?e(t):n(t)},process:function(a){function n(n,e,t){return a.apply(this,arguments)}return n.toString=function(){return a.toString()},n}(function(){var a=Object(g.a)(u.a.mark(function a(n,e,t){var r,i,s,l;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.action,i=n.getState,s=i().images,a.next=4,S(100);case 4:return a.next=6,G(s,r.payload).catch(function(a){return alert(a.message)});case 6:if(!(l=a.sent)){a.next=14;break}return a.next=11,l.save("Cards.pdf",{returnPromise:!0});case 11:a.next=14;break;case 13:window.open(URL.createObjectURL(l.output("blob")));case 14:e({type:"GENERATE_PDF_COMPLETE"}),t();case 16:case"end":return a.stop()}},a)}));return function(n,e,t){return a.apply(this,arguments)}}())}),Object(E.a)({type:"LOAD_EXAMPLES",latest:!0,process:function(){var a=Object(g.a)(u.a.mark(function a(n,t,r){var i;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"REMOVE_ALL"}),a.next=3,Promise.all(d()(w).map(function(){var a=Object(g.a)(u.a.mark(function a(n){var t;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(275)("./".concat(n));case 2:return t=a.sent.default,a.t0=t,a.t1=b()("image_"),a.next=7,L(t);case 7:return a.t2=a.sent,a.t3=n,a.abrupt("return",{base64src:a.t0,id:a.t1,ratio:a.t2,title:a.t3});case 10:case"end":return a.stop()}},a)}));return function(n){return a.apply(this,arguments)}}()));case 3:i=a.sent,t(v(i)),r();case 6:case"end":return a.stop()}},a)}));return function(n,e,t){return a.apply(this,arguments)}}()})],I=e(73),C={images:[],processing:!1},F=Object(o.createStore)(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"APPEND_IMAGES":return Object(I.a)({},a,{images:[].concat(Object(y.a)(a.images),Object(y.a)(n.payload))});case"GENERATE_PDF":return Object(I.a)({},a,{processing:!0});case"GENERATE_PDF_COMPLETE":return Object(I.a)({},a,{processing:!1});case"REMOVE_ALL":return Object(I.a)({},a,{images:[]});case"REMOVE_IMAGE":return Object(I.a)({},a,{images:a.images.filter(function(a){return a.id!==n.payload})});default:return a}},Object(c.composeWithDevTools)(Object(o.applyMiddleware)(Object(m.a)(R)))),T=e(463),U=e(464),z=e(467),V=e(72),q=e(468),J=e(228),X=Object(l.b)(function(a){return{images:a.images}},{removeAll:O,loadExamples:function(){return{type:"LOAD_EXAMPLES"}},uploadImages:function(a){return{type:"UPLOAD_IMAGES",payload:a?Object(y.a)(a):[]}},removeImage:function(a){return{type:"REMOVE_IMAGE",payload:a}}})(function(a){var n=a.images,e=a.loadExamples,t=a.removeAll,i=a.removeImage,s=a.uploadImages;return r.a.createElement(T.a,{className:"pusher"},r.a.createElement(U.a,{horizontal:!0},r.a.createElement(z.a.Group,{size:"huge"},r.a.createElement(z.a,{primary:!0,as:"label",htmlFor:"fileUpload"},r.a.createElement(V.a,{name:"cloud upload"}),"Upload images"),r.a.createElement(z.a.Or,{text:"or"}),r.a.createElement(z.a,{onClick:e},r.a.createElement(V.a,{name:"images outline"}),"Load examples"))),r.a.createElement("input",{type:"file",id:"fileUpload",onChange:function(a){return s(a.target.files)},multiple:!0,style:{display:"none"},accept:".png,.jpg,.jpeg"}),r.a.createElement(q.a,{basic:!0,textAlign:"center"},r.a.createElement(J.a.Group,{size:"tiny"},n.map(function(a){var n=a.id,e=a.base64src,t=a.title;return r.a.createElement(J.a,{key:n,src:e,onClick:function(){return i(n)},className:"preview",title:t,alt:t})})),n.length>0&&r.a.createElement(z.a,{onClick:t},r.a.createElement(V.a,{name:"trash"}),"Remove all images")))}),Y=function(){return r.a.createElement(q.a,{inverted:!0,vertical:!0,className:"footer"},r.a.createElement(T.a,{text:!0,textAlign:"center"},"This site is not affiliated in any way with Dobble, Spot It!, its creators or distributors.",r.a.createElement("br",null),"Dobble and Spot It! are trademarks of ASMODEE GROUP.",r.a.createElement("br",null),"Example images by"," ",r.a.createElement("a",{href:"https://icons8.com/",target:"_blank"},"icons8.com")))},B=e(470),W=function(){return r.a.createElement(q.a,{inverted:!0,textAlign:"center",vertical:!0,className:"header"},r.a.createElement(T.a,{text:!0},r.a.createElement(B.a,{as:"h1",content:"Dobble-like generator",inverted:!0,className:"title"}),r.a.createElement(B.a,{as:"h2",content:"Prepare and print cards with your own images",inverted:!0,className:"subtitle"})))},H=e(225),K=e.n(H),Q=e(465),Z=Object(l.b)(function(a){return{images:a.images,plains:_,processing:a.processing}},{generatePdf:function(a){return{type:"GENERATE_PDF",payload:{n:a}}}})(function(a){var n=a.images,e=a.plains,t=a.processing,i=a.generatePdf,s=n.length,l=K()(e,function(a){var n=a.symbols;return s>=n}),o=e[l]||null,c=e[l+1]||null,m=s/(o||c).symbols*100,p=c?s/c.symbols*100:100;return r.a.createElement(T.a,null,r.a.createElement(q.a,{textAlign:"center",raised:!0},r.a.createElement(Q.a,{percent:m,attached:"top",color:"blue",autoSuccess:!0}),r.a.createElement(Q.a,{percent:p,attached:"bottom",color:"blue",autoSuccess:!0}),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{as:"h1",className:"instructions"},"You can generate ",o.symbols," cards with"," ",o.symbolsPerCard," images per card.",s>o.symbols&&r.a.createElement(B.a.Subheader,null,"You have uploaded too much images. Last"," ",s-o.symbols," images will not be used.")),r.a.createElement(z.a,{size:"massive",positive:!0,disabled:t,onClick:function(){return i(o.n)}},r.a.createElement(V.a,{loading:t,name:"file pdf outline"}),"Generate and download PDF file")),o&&c&&r.a.createElement(U.a,{horizontal:!0,className:"padded"},"Or"),c&&r.a.createElement(B.a,{as:"h3",className:"instructions"},"Add ",c.symbols-s," more images to generate"," ",c.symbols," cards with ",c.symbolsPerCard," images per card")))}),$=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement(X,null),r.a.createElement(Z,null),r.a.createElement(Y,null))};e(393);s.a.render(r.a.createElement(l.a,{store:F},r.a.createElement($,null)),document.getElementById("root"))}},[[237,1,2]]]);
//# sourceMappingURL=main.1e549385.chunk.js.map